{"version":3,"sources":["views/base/tables/Banner/Banner.js","views/Common/TextFieldGroup.js"],"names":["headers","Headers","auth","localStorage","getItem","append","Banner","props","getData","a","company_id","state","setState","isLoading","API_CONNECT","Constants","GET_BANNER","res","data","banner","sub_banner","JSON","parse","image_banner","image_sub_banner","link_banner","link_sub_banner","this","arr","i","length","to","window","location","hash","hidden","href","e","files","target","reader","FileReader","readAsDataURL","onload","result","BASE_URL","name","form","FormData","UPLOAD_BANNER","ADD_BANNER","className","css","override","size","color","loading","speedMultiplier","sm","lg","field","type","onChange","onChangeImageBanner","width","height","src","style","marginBottom","paddingLeft","paddingRight","onError","onerror","onChangeImageSubBanner","Component","TextFieldGroup","value","label","error","checkUserExists","readOnly","placeholder","onClick","classnames","onBlur","defaultProps"],"mappings":"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","file":"static/js/86.49e7f443.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Row,\n} from 'reactstrap';\n\nimport {\n  CLabel,\n  CRow,\n  CCol,\n} from '@coreui/react'\nimport 'moment-timezone';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport API_CONNECT from \"../../../../functions/callAPI\";\nimport Constants from \"./../../../../contants/contants\";\nimport TextFieldGroup from \"../../../Common/TextFieldGroup\";\nimport { css } from \"@emotion/react\";\nimport DotLoader from \"react-spinners/DotLoader\";\nlet headers = new Headers();\nconst auth = localStorage.getItem('auth');\nheaders.append('Authorization', 'Bearer ' + auth);\nheaders.append('Content-Type', 'application/json');\nclass Banner extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      company_id: JSON.parse(localStorage.getItem('user')).company_id,\n      isLoading: false,\n      banner: \"\",\n      sub_banner: \"\",\n      image_banner: \"\",\n      image_sub_banner: \"\",\n      link_banner: \"\",\n      link_sub_banner: \"\"\n    };\n  }\n  async componentDidMount() {\n    this.getData();\n\n    let arr = JSON.parse(localStorage.getItem('url'));\n    for (let i = 0; i < arr.length; i++) {\n      if (\"#\" + arr[i].to == window.location.hash) {\n        if (arr[i].hidden == true) {\n          window.location.href = '#/'\n        }\n      }\n    }\n  }\n\n  getData = async () => {\n    const { company_id } = this.state;\n    this.setState({ isLoading: true });\n    const res = await API_CONNECT(Constants.GET_BANNER, { company_id: company_id }, \"\", \"POST\")\n\n    let data = res.data;\n\n    this.setState({ isLoading: false, banner: data.banner, sub_banner: data.sub_banner });\n  }\n\n  onChangeImageBanner(e) {\n    const { company_id, link_sub_banner, sub_banner } = this.state;\n\n    let files = e.target.files;\n    let reader = new FileReader();\n    reader.readAsDataURL(files[0])\n    reader.onload = (e) => {\n      this.setState({ banner: \"\", image_banner: e.target.result, link_banner: `${Constants.BASE_URL}/public/image_banner/${files[0].name}`}, async () => {\n        const form = new FormData();\n        form.append(\"image\", files[0]);\n\n        await API_CONNECT(Constants.UPLOAD_BANNER, form, \"\", \"POST\")\n        await API_CONNECT(Constants.ADD_BANNER, {\n          company_id: company_id,\n          banner: `${Constants.BASE_URL}/public/image_banner/${files[0].name}`,\n          sub_banner: link_sub_banner != \"\" ? link_sub_banner : sub_banner\n        }, \"\", \"POST\")\n      })\n    }\n  }\n\n  onChangeImageSubBanner(e) {\n    const { company_id, link_banner, banner } = this.state;\n\n    let files = e.target.files;\n    let reader = new FileReader();\n    this.setState({ sub_banner: \"\" })\n    reader.readAsDataURL(files[0])\n    reader.onload = (e) => {\n      this.setState({ sub_banner: \"\", image_sub_banner: e.target.result, link_sub_banner: `${Constants.BASE_URL}/public/image_banner/${files[0].name}` }, async () => {\n        const form = new FormData();\n        form.append(\"image\", files[0]);\n\n        await API_CONNECT(Constants.UPLOAD_BANNER, form, \"\", \"POST\")\n        await API_CONNECT(Constants.ADD_BANNER, {\n          company_id: company_id,\n          banner: link_banner != \"\" ? link_banner : banner,\n          sub_banner: `${Constants.BASE_URL}/public/image_banner/${files[0].name}`\n        }, \"\", \"POST\")\n      })\n    }\n  }\n\n  render() {\n    const { banner, sub_banner, image_banner, image_sub_banner } = this.state;\n\n    if (!this.state.isLoading) {\n      return (\n        <div className=\"animated fadeIn\">\n          <Row>\n            <Col>\n              <Card>\n                <CardHeader>\n                  THÔNG TIN BANNER\n                </CardHeader>\n                <CardBody>\n                  <CRow>\n                    <CCol sm=\"12\" lg=\"12\">\n                      <CRow>\n                        <CCol sm=\"12\" lg=\"12\">\n                          <CLabel><strong>Banner chính: <a href={`${banner}`}>{`${banner}`}</a></strong></CLabel>\n                          <TextFieldGroup\n                            field=\"image\"\n                            type={\"file\"}\n                            onChange={e => { this.onChangeImageBanner(e) }}\n                          />\n                          {\n                            banner != \"\" ?\n                              <img width=\"100%\" height=\"400\" src={`${banner}`} style={{ marginBottom: 20, paddingLeft: 150, paddingRight: 150 }} /> :\n                              <img width=\"100%\" height=\"400\" src={`${image_banner}`} style={{ marginBottom: 20, paddingLeft: 150, paddingRight: 150 }} onError={(e)=>{e.target.onerror = null; e.target.src=\"https://aina.vn/wp-content/uploads/2021/08/default-image-620x600-1.jpg\"}}/>\n                          }\n                        </CCol>\n                        <CCol sm=\"12\" lg=\"12\">\n                          <CLabel><strong>Banner phụ: <a href={`${sub_banner}`}>{`${sub_banner}`}</a></strong></CLabel>\n                          <TextFieldGroup\n                            field=\"image\"\n                            type={\"file\"}\n                            onChange={e => { this.onChangeImageSubBanner(e) }}\n                          />\n                          {\n                            sub_banner != \"\" ?\n                              <img width=\"100%\" height=\"400\" src={`${sub_banner}`} style={{ marginBottom: 20, paddingLeft: 150, paddingRight: 150 }} /> :\n                              <img width=\"100%\" height=\"400\" src={`${image_sub_banner}`} style={{ marginBottom: 20, paddingLeft: 150, paddingRight: 150 }} onError={(e)=>{e.target.onerror = null; e.target.src=\"https://aina.vn/wp-content/uploads/2021/08/default-image-620x600-1.jpg\"}}/>\n                          }\n\n                        </CCol>\n                      </CRow>\n                    </CCol>\n                  </CRow>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"sweet-loading\">\n        <DotLoader css={override} size={50} color={\"#123abc\"} loading={this.state.isLoading} speedMultiplier={1.5} />\n      </div>\n    );\n  }\n}\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\nconst styles = {\n  datePicker: {\n    marginBottom: 20\n  },\n  wa10: {\n    width: \"5%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  pagination: {\n    marginRight: '5px'\n  },\n  flexLabel: {\n    width: 100\n  },\n  flexOption: {\n    width: 200,\n    margin: '1px'\n  },\n  a: {\n    textDecoration: 'none'\n  },\n  floatRight: {\n    float: \"right\",\n    marginTop: '3px'\n  },\n  spinner: {\n    width: \"30px\"\n  },\n  center: {\n    textAlign: \"center\"\n  },\n  tbody: {\n    height: \"380px\",\n    overflowY: \"auto\"\n  },\n  wh12: {\n    width: \"10%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  wh15: {\n    width: \"15%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  w5: {\n    width: \"12%\",\n    float: \"left\",\n    height: \"80px\"\n  },\n  row: {\n    float: \"left\",\n    width: \"100%\"\n  },\n  success: {\n    color: 'green'\n  },\n  danger: {\n    color: 'red'\n  },\n  mgl5: {\n    marginLeft: '5px'\n  },\n  tags: {\n    float: \"right\",\n    marginRight: \"5px\"\n  },\n  searchInput: {\n    width: '100%',\n    display: 'inline-block',\n    margin: '1px'\n  },\n  userActive: {\n    color: 'green'\n  },\n  userPending: {\n    color: 'red'\n  },\n  nagemonNameCol: {\n    width: '328px'\n  },\n  image: {\n    width: '100px',\n    height: '100px',\n    borderRadius: '99999px'\n  },\n}\n\nexport default Banner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nconst TextFieldGroup = ({ field, value, label, error, type, onChange, checkUserExists, readOnly, placeholder, onClick }) => {\n  return (\n    <div className={classnames('form-group', { 'has-error': error })}>\n      <label className=\"control-label\">{label}</label>\n      <input\n        onChange={onChange}\n        onClick={onClick}\n        onBlur={checkUserExists}\n        value={value}\n        type={type}\n        name={field}\n        placeholder={placeholder}\n        readOnly={readOnly}\n        className=\"form-control\"\n      />\n    {error && <span className=\"help-block\">{error}</span>}\n    </div>  );\n}\n\nTextFieldGroup.propTypes = {\n  field: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  checkUserExists: PropTypes.func\n}\n\nTextFieldGroup.defaultProps = {\n  type: 'text'\n}\n\nexport default TextFieldGroup;\n"],"sourceRoot":""}