(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[97],{1391:function(e,t,a){"use strict";a.r(t);var r=a(114),n=a.n(r),s=a(668),c=a(167),i=a(168),o=a(170),l=a(169),d=a(2),h=a(747),u=a.n(h),j=a(707),p=a(708),m=a(676),x=a(702),g=a(1448),b=a(1365),f=a(1366),O=a(1367),y=a(651),v=(a(670),a(663)),w=a(669),C=a.n(w),S=a(17),k=new Headers,A=localStorage.getItem("auth");k.append("Authorization","Bearer "+A),k.append("Content-Type","application/json");var H=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={data:[],Company_Id:"",keyDateCreate:new Date,keyStatus:"",activePage:1,page:1,itemsCount:0,limit:20,totalActive:0,modalCom:!1,viewingUser:{},communities:[],updated:"",dataApi:[],action:"new",Name:"",Email:"",Phone:"",Fax:"Nam",Address:"",Website:"",Code:"",Status:"",modalDelete:!1,delete:null,arrPagination:[],indexPage:0,dataCompany:[],currentCompany:"",arrHardWard:[],dataHardWard:[],arrChooseHard:[],token:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},company_id:localStorage.getItem("user")},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getCompanyData(),t=JSON.parse(localStorage.getItem("url")),a=0;a<t.length;a++)"#"+t[a].to==window.location.hash&&1==t[a].hidden&&(window.location.href="#/");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addOrder",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.arrHardWard,r=t.Company_Id,s=t.token,""!=r&&null!=r||alert("Vui l\xf2ng ch\u1ecdn ch\xednh x\xe1c c\xf4ng ty"),e.next=4,C()({baseURL:v.a.BASE_URL,url:v.a.ADD_ORDER,method:"PUT",data:{Company_Id:r,Count:a.length},headers:s});case 4:if(1!=(c=e.sent).data.is_success){e.next=11;break}return e.next=8,C()({baseURL:v.a.BASE_URL,url:v.a.ADD_ORDER_DETAIL,method:"PUT",data:{OrderID:c.data.data._id,arrHard:a,Company_Id:c.data.data.Company_Id},headers:s});case 8:this.setState({arrHardWard:[]}),e.next=12;break;case 11:alert(c.data.message);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCompanyData",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:v.a.BASE_URL,url:v.a.LIST_COMPANY,method:"POST"});case 2:t=e.sent,this.setState({dataCompany:t.data.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHardWardData",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()({baseURL:v.a.BASE_URL,url:v.a.LIST_HARDWARE,method:"POST",headers:this.state.token});case 2:t=e.sent,this.setState({dataHardWard:t.data.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleModal",value:function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.arrHardWard,this.getHardWardData(),r=new Array,"new"==t&&this.setState({modalCom:!this.state.modalCom,action:t}),s=0;case 5:if(!(s<a.length)){e.next=13;break}return e.next=8,C()({baseURL:v.a.BASE_URL,url:v.a.LIST_HARDWARE_WITH_ID+a[s],method:"POST",headers:this.state.token});case 8:c=e.sent,r.push(c.data.data);case 10:s++,e.next=5;break;case 13:this.setState({arrHardWard:r});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBadge",value:function(e){switch(e){case"INSTOCK":return"success";case"AVAILABLE":return"secondary";case"Locked":return"warning";case"Deactived":return"danger";default:return"primary"}}},{key:"renderSelect",value:function(e){for(var t=this,a=this.state.dataHardWard,r=[],n=0;n<a.length;n++)r.push({name:a[n].Name,id:a[n]._id});return Object(S.jsx)(u.a,{options:r,onSelect:function(a){e=new Array;for(var r=0;r<a.length;r++)e.push(a[r].id),t.setState({arrChooseHard:e})},onRemove:function(a){e=new Array;for(var r=0;r<a.length;r++)e.push(a[r].id),t.setState({arrChooseHard:e})},displayValue:"name"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataCompany,r=t.arrHardWard;return Object(S.jsxs)("div",{className:"animated fadeIn",children:[Object(S.jsxs)(j.a,{children:[Object(S.jsx)(p.a,{children:Object(S.jsx)("i",{className:"fa fa-align-justify",children:"Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng"})}),Object(S.jsx)(m.a,{children:Object(S.jsx)("div",{style:_.tags,children:Object(S.jsxs)(y.V,{children:[Object(S.jsx)(y.o,{sm:"12",lg:"12",children:Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{style:_.flexLabel,htmlFor:"tag",children:"Ch\u1ecdn c\xf4ng ty:    "}),Object(S.jsxs)("select",{style:_.flexOption,onChange:function(t){e.setState({Company_Id:t.target.value})},children:[Object(S.jsx)("option",{value:this.state.Company_Id,children:"-----"}),a.map((function(e,t){return Object(S.jsx)("option",{value:e._id,children:e.Name})}))]})]})}),Object(S.jsx)(y.o,{sm:"12",lg:"12",children:Object(S.jsxs)(y.V,{children:[Object(S.jsx)(y.o,{sm:"12",lg:"6",children:Object(S.jsx)("label",{htmlFor:"tag",children:"DANH S\xc1CH PH\u1ea6N C\u1ee8NG \u0110\xc3 CH\u1eccN    "})}),Object(S.jsx)(y.o,{sm:"12",lg:"6",children:Object(S.jsx)(x.a,{outline:!0,color:"primary",style:_.floatRight,size:"sm",onClick:function(t){e.toggleModal("new")},children:"Ch\u1ecdn ph\u1ea7n c\u1ee9ng"})})]})}),Object(S.jsx)(y.o,{sm:"12",lg:"12",children:Object(S.jsxs)("table",{ble:!0,className:"table table-hover table-outline mb-0  d-sm-table",children:[Object(S.jsx)("thead",{className:"thead-light",children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",children:"STT."}),Object(S.jsx)("th",{className:"text-center",children:"M\xe3 ph\u1ea7n c\u1ee9ng"}),Object(S.jsx)("th",{className:"text-center",children:"Tr\u1ea1ng th\xe1i"}),Object(S.jsx)("th",{className:"text-center",children:"Ng\xe0y t\u1ea1o"})]})}),Object(S.jsx)("tbody",{children:void 0!=r?r.map((function(t,a){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",children:a+1}),Object(S.jsx)("td",{className:"text-center",children:t[0].Key}),Object(S.jsx)("td",{className:"text-center",children:Object(S.jsx)(y.a,{color:e.getBadge(t[0].Status),children:t[0].Status})}),Object(S.jsx)("td",{className:"text-center",children:t[0].Create_Date})]},a)})):""})]})}),Object(S.jsx)(y.o,{sm:"12",lg:"12",children:Object(S.jsxs)("label",{style:{marginTop:10},htmlFor:"tag",children:["S\u1ed1 l\u01b0\u1ee3ng ph\u1ea7n c\u1ee9ng: ",this.state.arrHardWard.length,"    "]})}),Object(S.jsx)(y.o,{sm:"12",lg:"12",children:Object(S.jsxs)(y.V,{children:[Object(S.jsx)(y.o,{sm:"12",lg:"6"}),Object(S.jsx)(y.o,{sm:"12",lg:"6",children:Object(S.jsx)(x.a,{outline:!0,color:"primary",style:_.floatRight,size:"sm",onClick:function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addOrder();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"L\u01b0u"})})]})})]})})})]}),Object(S.jsxs)(g.a,{isOpen:this.state.modalCom,children:[Object(S.jsx)(b.a,{children:"Danh s\xe1ch ph\u1ea7n c\u1ee9ng"}),Object(S.jsx)(f.a,{children:this.renderSelect([])}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{color:"primary",onClick:function(t){e.setState({arrHardWard:e.state.arrChooseHard})},children:"L\u01b0u"})," ",Object(S.jsx)(x.a,{color:"secondary",onClick:function(t){return e.toggleModal("new")},children:"Close"})]})]})]})}}]),a}(d.Component),_={pagination:{marginRight:"5px"},flexLabel:{width:"100%"},flexOption:{width:160,margin:"1px"},a:{textDecoration:"none"},floatRight:{float:"right",margin:"5px"},spinner:{width:"30px"},center:{textAlign:"center"},tbody:{height:"380px",overflowY:"auto"},wh12:{width:"8%",float:"left",height:"80px"},wh15:{width:"15%",float:"left",height:"80px"},w5:{width:"12%",float:"left",height:"80px"},wa10:{width:"5%",float:"left",height:"80px"},row:{float:"left",width:"100%"},success:{color:"green"},danger:{color:"red"},mgl5:{marginLeft:"5px"},tags:{padding:10},searchInput:{width:"160px",display:"inline-block",margin:"1px"},userActive:{color:"green"},userPending:{color:"red"},nagemonNameCol:{width:"328px"},image:{width:"100px",height:"100px",borderRadius:"99999px"}};t.default=H}}]);
//# sourceMappingURL=97.83840981.chunk.js.map